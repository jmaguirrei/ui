import { registerStyles } from '../../styles';import { getStyles } from './getStyles';import { getClassNames } from './getClassNames';import { getFinalProps } from './getFinalProps';import { getStore } from './getStore';export default (isBrowser, Store) => componentDef => {  // 1 register per definition, not instance.  console.log("componentDef.registerNumber", componentDef.registerNumber);  componentDef.registerNumber = Store.methods.registerComponent(componentDef);  // const registerNumber = Store.methods.registerComponent(componentDef);  const store = getStore(Store, componentDef);  const processedClassNames = getClassNames(componentDef.registerNumber, componentDef.classNames);  // const processedClassNames = getClassNames(registerNumber, componentDef.classNames);  const processedStyles = getStyles(componentDef.styles);  const solveProps = getFinalProps({    store,    componentDef,    classNamesMapping: processedClassNames.mapping,    processedStyles,  });  // Provoque Side Effect for classNames styles  registerStyles(isBrowser, componentDef.registerNumber, processedClassNames.rules);  return function renderComponent(props, children) {    // Called on inital render and every update    const render = () => {      const finalProps = solveProps(props);      const rendered = componentDef.render(finalProps, children);      return rendered;    };    // console.log('-------------------', component);    const rendered = render();    return rendered;  };};